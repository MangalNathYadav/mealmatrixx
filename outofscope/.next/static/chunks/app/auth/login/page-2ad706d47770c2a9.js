(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{4177:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(95155),a=r(12115),i=r(35695),l=r(6874),n=r.n(l),o=r(62177),d=r(90221),c=r(71153),u=r(59576),m=r(30285),f=r(33356),x=r(75937),p=r(62523),h=r(20596);let g=c.Ik({email:c.Yj().email("Invalid email address"),password:c.Yj().min(6,"Password must be at least 6 characters")});function v(){let e=(0,i.useRouter)(),{signIn:t}=(0,u.A)(),[r,l]=a.useState(!1),c=(0,o.mN)({resolver:(0,d.u)(g),defaultValues:{email:"",password:""}});async function v(r){try{l(!0),await t(r.email,r.password),e.push("/dashboard")}catch(t){let{message:e}=(0,f.H)(t);(0,h.oR)({title:"Error",description:e,variant:"destructive"})}finally{l(!1)}}return(0,s.jsxs)("div",{className:"container relative flex-col items-center justify-center grid lg:max-w-none lg:grid-cols-2 lg:px-0",children:[(0,s.jsxs)("div",{className:"relative hidden h-full flex-col bg-muted p-10 text-white dark:border-r lg:flex",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-gradient-from to-primary-gradient-to"}),(0,s.jsx)("div",{className:"relative z-20 flex items-center text-lg font-medium",children:(0,s.jsx)(n(),{href:"/",children:"MealMatrix"})}),(0,s.jsx)("div",{className:"relative z-20 mt-auto",children:(0,s.jsxs)("blockquote",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-lg",children:"“MealMatrix has transformed how I track my nutrition. The interface is beautiful and intuitive!”"}),(0,s.jsx)("footer",{className:"text-sm",children:"Sofia Davis"})]})})]}),(0,s.jsx)("div",{className:"lg:p-8",children:(0,s.jsxs)("div",{className:"mx-auto flex w-full flex-col justify-center space-y-6 sm:w-[350px]",children:[(0,s.jsxs)("div",{className:"flex flex-col space-y-2 text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"Welcome back"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Enter your email to sign in to your account"})]}),(0,s.jsx)(x.lV,{...c,children:(0,s.jsxs)("form",{onSubmit:c.handleSubmit(v),className:"space-y-4",children:[(0,s.jsx)(x.zB,{control:c.control,name:"email",render:e=>{let{field:t}=e;return(0,s.jsxs)(x.eI,{children:[(0,s.jsx)(x.lR,{children:"Email"}),(0,s.jsx)(x.MJ,{children:(0,s.jsx)(p.p,{placeholder:"name@example.com",type:"email",disabled:r,...t})}),(0,s.jsx)(x.C5,{})]})}}),(0,s.jsx)(x.zB,{control:c.control,name:"password",render:e=>{let{field:t}=e;return(0,s.jsxs)(x.eI,{children:[(0,s.jsx)(x.lR,{children:"Password"}),(0,s.jsx)(x.MJ,{children:(0,s.jsx)(p.p,{placeholder:"Enter your password",type:"password",disabled:r,...t})}),(0,s.jsx)(x.C5,{})]})}}),(0,s.jsx)(m.Button,{disabled:r,type:"submit",className:"w-full",children:r?"Signing in...":"Sign In"})]})}),(0,s.jsx)("p",{className:"px-8 text-center text-sm text-muted-foreground",children:(0,s.jsx)(n(),{href:"/auth/signup",className:"underline underline-offset-4 hover:text-primary",children:"Don't have an account? Sign Up"})})]})})]})}},20596:(e,t,r)=>{"use strict";r.d(t,{oR:()=>c});let s=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},n=[],o={toasts:[]};function d(e){o=l(o,e),n.forEach(e=>{e(o)})}function c(e){let{...t}=e,r=(s=(s+1)%Number.MAX_VALUE).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:r}})}}},28745:(e,t,r)=>{Promise.resolve().then(r.bind(r,4177))},30285:()=>{},33356:(e,t,r)=>{"use strict";function s(e){return e instanceof Error||(null==e?void 0:e.code)||(null==e?void 0:e.message)||(null==e?void 0:e.message)?{message:e.message}:{message:"An unexpected error occurred"}}r.d(t,{H:()=>s})},56104:(e,t,r)=>{"use strict";r.d(t,{e7:()=>n,mH:()=>o});var s=r(23915),a=r(16203),i=r(81115);let l=0===(0,s.Dk)().length?(0,s.Wp)({apiKey:"AIzaSyDJRYvkh4ejfXHiYvTYcrcTMjA8awrnZzQ",authDomain:"mealmatrix-ac32a.firebaseapp.com",projectId:"mealmatrix-ac32a",messagingSenderId:"347054902442",appId:"1:347054902442:web:c83ed92e399e3f19c414d3",databaseURL:"https://mealmatrix-ac32a-default-rtdb.firebaseio.com"}):(0,s.Dk)()[0],n=(0,a.xI)(l),o=(0,i.C3)(l)},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(52596),a=r(39688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},59576:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,AuthProvider:()=>o});var s=r(95155),a=r(12115),i=r(16203),l=r(56104);let n=(0,a.createContext)({});function o(e){let{children:t}=e,[r,o]=(0,a.useState)(null),[d,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=l.e7.onAuthStateChanged(e=>{o(e),c(!1)});return()=>e()},[]);let u=async(e,t)=>(await (0,i.x9)(l.e7,e,t)).user,m=async(e,t,r)=>{let s=await (0,i.eJ)(l.e7,e,t);return await (0,i.r7)(s.user,{displayName:r}),s.user},f=async()=>{await (0,i.CI)(l.e7)},x=async(e,t)=>{if(!r)throw Error("No user logged in");await (0,i.r7)(r,{displayName:e,photoURL:t})};return(0,s.jsx)(n.Provider,{value:{user:r,loading:d,signIn:u,signUp:m,signOut:f,updateUserProfile:x},children:t})}let d=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},62523:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var s=r(95155),a=r(12115),i=r(59434);let l=a.forwardRef((e,t)=>{let{className:r,type:a,...l}=e;return(0,s.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});l.displayName="Input"},75937:(e,t,r)=>{"use strict";r.d(t,{lV:()=>c,MJ:()=>g,Rr:()=>v,zB:()=>m,eI:()=>p,lR:()=>h,C5:()=>j});var s=r(95155),a=r(12115),i=r(99708),l=r(62177),n=r(59434),o=r(40968);let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.b,{ref:t,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r),...a})});d.displayName=o.b.displayName;let c=l.Op,u=a.createContext({}),m=e=>{let{...t}=e;return(0,s.jsx)(u.Provider,{value:{name:t.name},children:(0,s.jsx)(l.xI,{...t})})},f=()=>{let e=a.useContext(u),t=a.useContext(x),{getFieldState:r,formState:s}=(0,l.xW)(),i=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...i}},x=a.createContext({}),p=a.forwardRef((e,t)=>{let{className:r,...i}=e,l=a.useId();return(0,s.jsx)(x.Provider,{value:{id:l},children:(0,s.jsx)("div",{ref:t,className:(0,n.cn)("space-y-2",r),...i})})});p.displayName="FormItem";let h=a.forwardRef((e,t)=>{let{className:r,...a}=e,{error:i,formItemId:l}=f();return(0,s.jsx)(d,{ref:t,className:(0,n.cn)(i&&"text-destructive",r),htmlFor:l,...a})});h.displayName="FormLabel";let g=a.forwardRef((e,t)=>{let{...r}=e,{error:a,formItemId:l,formDescriptionId:n,formMessageId:o}=f();return(0,s.jsx)(i.DX,{ref:t,id:l,"aria-describedby":a?"".concat(n," ").concat(o):"".concat(n),"aria-invalid":!!a,...r})});g.displayName="FormControl";let v=a.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:i}=f();return(0,s.jsx)("p",{ref:t,id:i,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});v.displayName="FormDescription";let j=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e,{error:l,formMessageId:o}=f(),d=l?String(null==l?void 0:l.message):a;return d?(0,s.jsx)("p",{ref:t,id:o,className:(0,n.cn)("text-sm font-medium text-destructive",r),...i,children:d}):null});j.displayName="FormMessage"}},e=>{var t=t=>e(e.s=t);e.O(0,[507,965,463,277,874,970,441,684,358],()=>t(28745)),_N_E=e.O()}]);