(()=>{var e={};e.id=162,e.ids=[162],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22690:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var s=r(60687),n=r(43210),i=r(85814),a=r.n(i),o=r(12157),l=r(72789),d=r(15124),c=r(21279),u=r(18171),p=r(32582);class h extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,u.s)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function x({children:e,isPresent:t,anchorX:r}){let i=(0,n.useId)(),a=(0,n.useRef)(null),o=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=(0,n.useContext)(p.Q);return(0,n.useInsertionEffect)(()=>{let{width:e,height:s,top:n,left:d,right:c}=o.current;if(t||!a.current||!e||!s)return;let u="left"===r?`left: ${d}`:`right: ${c}`;a.current.dataset.motionPopId=i;let p=document.createElement("style");return l&&(p.nonce=l),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            ${u}px !important;
            top: ${n}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[t]),(0,s.jsx)(h,{isPresent:t,childRef:a,sizeRef:o,children:n.cloneElement(e,{ref:a})})}let m=({children:e,initial:t,isPresent:r,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:d,anchorX:u})=>{let p=(0,l.M)(f),h=(0,n.useId)(),m=!0,g=(0,n.useMemo)(()=>(m=!1,{id:h,initial:t,isPresent:r,custom:a,onExitComplete:e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;i&&i()},register:e=>(p.set(e,!1),()=>p.delete(e))}),[r,p,i]);return o&&m&&(g={...g}),(0,n.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[r]),n.useEffect(()=>{r||p.size||!i||i()},[r]),"popLayout"===d&&(e=(0,s.jsx)(x,{isPresent:r,anchorX:u,children:e})),(0,s.jsx)(c.t.Provider,{value:g,children:e})};function f(){return new Map}var g=r(86044);let v=e=>e.key||"";function j(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}let y=({children:e,custom:t,initial:r=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:c="sync",propagate:u=!1,anchorX:p="left"})=>{let[h,x]=(0,g.xQ)(u),f=(0,n.useMemo)(()=>j(e),[e]),y=u&&!h?[]:f.map(v),b=(0,n.useRef)(!0),C=(0,n.useRef)(f),P=(0,l.M)(()=>new Map),[w,M]=(0,n.useState)(f),[E,k]=(0,n.useState)(f);(0,d.E)(()=>{b.current=!1,C.current=f;for(let e=0;e<E.length;e++){let t=v(E[e]);y.includes(t)?P.delete(t):!0!==P.get(t)&&P.set(t,!1)}},[E,y.length,y.join("-")]);let q=[];if(f!==w){let e=[...f];for(let t=0;t<E.length;t++){let r=E[t],s=v(r);y.includes(s)||(e.splice(t,0,r),q.push(r))}return"wait"===c&&q.length&&(e=q),k(j(e)),M(f),null}let{forceRender:R}=(0,n.useContext)(o.L);return(0,s.jsx)(s.Fragment,{children:E.map(e=>{let n=v(e),o=(!u||!!h)&&(f===E||y.includes(n));return(0,s.jsx)(m,{isPresent:o,initial:(!b.current||!!r)&&void 0,custom:t,presenceAffectsLayout:a,mode:c,onExitComplete:o?void 0:()=>{if(!P.has(n))return;P.set(n,!0);let e=!0;P.forEach(t=>{t||(e=!1)}),e&&(R?.(),k(C.current),u&&x?.(),i&&i())},anchorX:p,children:e},n)})})};var b=r(26001),C=r(90555),P=r(33784),w=r(18780),M=r(29523),E=r(90498),k=r(44493),q=r(23401),R=r(73532);function _(){let{user:e}=(0,w.A)(),[t,r]=(0,n.useState)([]),[i,o]=(0,n.useState)(!0),[l,d]=(0,n.useState)(null),[c,u]=(0,n.useState)(!1),p=async t=>{if(e)try{await (0,C.TF)((0,C.KR)(P.mH,`users/${e.uid}/meals/${t.id}`)),(0,R.oR)({title:"Success",description:"Meal deleted successfully"})}catch(t){let{message:e}=(0,E.H)(t);(0,R.oR)({title:"Error",description:e,variant:"destructive"})}};return i?(0,s.jsx)("div",{children:"Loading..."}):(0,s.jsxs)("div",{className:"container py-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold",children:"Your Meals"}),(0,s.jsx)(M.Button,{asChild:!0,children:(0,s.jsx)(a(),{href:"/dashboard/meals/new",children:"Log a New Meal"})})]}),(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,s.jsx)(y,{children:t.map(e=>(0,s.jsx)(b.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},layout:!0,children:(0,s.jsxs)(k.Zp,{children:[(0,s.jsxs)(k.aR,{children:[(0,s.jsx)(k.ZB,{children:e.title}),(0,s.jsx)(k.BT,{children:new Date(e.date).toLocaleDateString()})]}),(0,s.jsxs)(k.Wu,{children:[e.description&&(0,s.jsx)("p",{className:"mb-4 text-muted-foreground",children:e.description}),(0,s.jsxs)("p",{className:"text-lg font-semibold",children:[e.calories," calories"]})]}),(0,s.jsxs)(k.wL,{className:"flex justify-between",children:[(0,s.jsx)(M.Button,{variant:"outline",asChild:!0,children:(0,s.jsx)(a(),{href:`/dashboard/meals/${e.id}/edit`,children:"Edit"})}),(0,s.jsxs)(q.lG,{open:c&&l?.id===e.id,onOpenChange:e=>{u(e),e||d(null)},children:[(0,s.jsx)(q.zM,{asChild:!0,children:(0,s.jsx)(M.Button,{variant:"destructive",onClick:()=>{d(e),u(!0)},children:"Delete"})}),(0,s.jsxs)(q.Cf,{children:[(0,s.jsxs)(q.c7,{children:[(0,s.jsx)(q.L3,{children:"Are you sure?"}),(0,s.jsx)(q.rr,{children:"This action cannot be undone. This will permanently delete your meal entry."})]}),(0,s.jsxs)(q.Es,{children:[(0,s.jsx)(M.Button,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),(0,s.jsx)(M.Button,{variant:"destructive",onClick:()=>{l&&(p(l),u(!1))},children:"Delete"})]})]})]})]})]})},e.id))}),0===t.length&&(0,s.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"No meals logged yet"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"Start tracking your meals to see them here"}),(0,s.jsx)(M.Button,{asChild:!0,children:(0,s.jsx)(a(),{href:"/dashboard/meals/new",children:"Log Your First Meal"})})]})]})]})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29692:(e,t,r)=>{Promise.resolve().then(r.bind(r,91120))},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},87836:(e,t,r)=>{Promise.resolve().then(r.bind(r,22690))},91120:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Jyotishna\\\\Desktop\\\\Mangal\\\\mealmatrixx\\\\src\\\\app\\\\dashboard\\\\meals\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Jyotishna\\Desktop\\Mangal\\mealmatrixx\\src\\app\\dashboard\\meals\\page.tsx","default")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},95883:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(65239),n=r(48088),i=r(88170),a=r.n(i),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["dashboard",{children:["meals",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,91120)),"C:\\Users\\Jyotishna\\Desktop\\Mangal\\mealmatrixx\\src\\app\\dashboard\\meals\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,63144)),"C:\\Users\\Jyotishna\\Desktop\\Mangal\\mealmatrixx\\src\\app\\dashboard\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,21075)),"C:\\Users\\Jyotishna\\Desktop\\Mangal\\mealmatrixx\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Jyotishna\\Desktop\\Mangal\\mealmatrixx\\src\\app\\dashboard\\meals\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/dashboard/meals/page",pathname:"/dashboard/meals",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,816,658,1,467,102],()=>r(95883));module.exports=s})();